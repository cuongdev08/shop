"use strict";window.theme||(window.theme={}),function(t){var a={init:function(){this.skipReset=!1,theme.$body.on("click","li>.product .product-variations>button",(function(e){var i=t(e.currentTarget);i.closest(".product").hasClass("product-single")||a.previewArchive(i)})).on("click",".product-single .product-variations > button",(function(e){var i=t(e.currentTarget);a.skipReset=!0,theme.requestTimeout((function(){a.skipReset=!1,a.previewSingle(i)}),50)}));var e=t.fn.wc_reset_variation_attr;t.fn.wc_reset_variation_attr=function(t){a.skipReset||e.call(this,t)},this.initVariableProduct()},previewArchive:function(t){if(!t.hasClass("disabled")){var a=t.hasClass("active");if(t.closest(".product-variations").children("button").removeClass("active"),a||t.addClass("active"),t.data("image")){var e=t.closest(".product").find(".product-media img:first-child");if(a)e.attr("src",e.data("origin-src")).attr("srcset",e.data("origin-srcset"));else{var i=t.data("image").match(/src="([^"]*)"/);i&&2==i.length&&(e.data("origin-src")||e.data("origin-src",e.attr("src")),e.attr("src",i[1])),(i=t.data("image").match(/srcset="([^"]*)"/))&&2==i.length&&(e.data("origin-srcset")||e.data("origin-srcset",e.attr("srcset")),e.attr("srcset",i[1]))}}}},previewSingle:function(a){var e=a.closest(".variations_form");if(!e.attr("current-image")){var i=a.closest(".product");if(a.hasClass("active")||(a=e.find(".image.active").not(a).first()),a.length){var r=a.attr("data-image");if(r){var s=i.find(".wp-post-image"),c=t(r);s.wc_set_variation_attr("src",c.attr("src")),s.wc_set_variation_attr("height",c.attr("height")),s.wc_set_variation_attr("width",c.attr("width")),s.wc_set_variation_attr("srcset",c.attr("srcset")),s.wc_set_variation_attr("sizes",c.attr("sizes")),s.wc_set_variation_attr("title",c.attr("title")),s.wc_set_variation_attr("data-caption",c.attr("data-caption")),s.wc_set_variation_attr("alt",c.attr("alt")),s.wc_set_variation_attr("data-src",c.attr("data-src")),s.wc_set_variation_attr("data-large_image",c.attr("data-large_image")),s.wc_set_variation_attr("data-large_image_width",c.attr("data-large_image_width")),s.wc_set_variation_attr("data-large_image_height",c.attr("data-large_image_height"))}}else e.wc_variations_image_reset();var n=i.find(".woocommerce-product-gallery").data("alpha_product_gallery");n.changePostImage()}},initVariableProduct:function(){theme.$body.on("click",".variations .product-variations button",(function(a){var e=t(a.currentTarget);e.hasClass("disabled")||(e.hasClass("active")?e.removeClass("active").parent().next().val("").change():(e.addClass("active").siblings().removeClass("active"),e.parent().next().val(e.attr("name")).change()))})).on("click",".reset_variations",(function(a){t(a.currentTarget).closest(".variations_form").find(".active").removeClass("active"),t(a.currentTarget).closest(".variations_form").find(".input-text.qty").val(1)})).on("found_variation",".variations_form",(function(a,e){var i=t(a.currentTarget).closest(".product").find(".woocommerce-product-gallery").data("alpha_product_gallery");i&&i.changePostImage(e)})).on("reset_image",".variations_form",(function(a){var e=t(a.currentTarget).closest(".product").find(".woocommerce-product-gallery");if(e.length){var i=e.data("alpha_product_gallery");i&&i.changePostImage("reset")}})).on("update_variation_values",".variations_form",(function(){var a=t(this);a.find(".product-variations>button").addClass("disabled"),a.find("select").each((function(){var a=t(this),e=a.closest(".variations > *").find(".product-variations");a.children(".enabled").each((function(){e.children('[name="'+this.getAttribute("value")+'"]').removeClass("disabled")})),a.children(":selected").each((function(){e.children('[name="'+this.getAttribute("value")+'"]').addClass("active")}))}))}))}};theme.Swatch=a,theme.$window.on("alpha_complete",(function(){theme.Swatch.init()}))}(jQuery);