!function(t,e){"use strict";var i,n;window.themeAdmin=window.themeAdmin||{};var a={init:function(){var i;this.onAddImage=this.onAddImage.bind(this),this.onRemoveImage=this.onRemoveImage.bind(this),this.onSelectImage=this.onSelectImage.bind(this),this.onSave=this.onSave.bind(this),this.onCancel=this.onCancel.bind(this),this.onAttrTypeSelect=this.onAttrTypeSelect.bind(this),e("#swatch_product_options select").on("change",this.requireSave),e(document.body).on("click","#swatch_product_options .button_upload_image",this.onAddImage).on("click","#swatch_product_options .button_remove_image",this.onRemoveImage).on("click","#swatch_product_options .alpha-admin-save-changes",this.onSave).on("click","#swatch_product_options .alpha-admin-cancel-changes",this.onCancel).on("click",".attribute_type_image .img-btn-item",this.onAttrTypeSelect),""===e("#attr_image").val()&&e(".remove_image_button").hide(),e(document).on("click",".upload_image_button",(function(n){n.preventDefault(),i||(i=t.media.frames.downloadable_file=t.media({title:lib_swatch_admin.title,button:{text:lib_swatch_admin.button_text},multiple:!1})).on("select",(function(){var t=i.state().get("selection").first().toJSON(),n=t.sizes.thumbnail||t.sizes.full;e("#attr_image").val(t.id),e("#attr_image_thumbnail").find("img").attr("src",n.url),e(".remove_image_button").show()})),i.open()})),e(document).on("click",".remove_image_button",(function(){return e("#attr_image_thumbnail").find("img").attr("src",lib_swatch_admin.placeholder),e("#attr_image").val(""),e(".remove_image_button").hide(),!1})),e.fn.wpColorPicker&&e("input.alpha-color-picker:not(.wp-color-picker)").wpColorPicker()},requireSave:function(){e("#swatch_product_options .alpha-admin-save-changes").removeAttr("disabled"),e("#swatch_product_options .alpha-admin-cancel-changes").removeAttr("disabled")},onSelectImage:function(){var t=i.state().get("selection").first().toJSON();n.siblings("img").attr("src",t.url),n.siblings("input").val(t.id),i.close()},onAddImage:function(a){n=e(a.currentTarget),i||(i=t.media.frames.downloadable_file=t.media({title:"Choose an image",button:{text:"Use image"},multiple:!1})).on("select",this.onSelectImage),i.open(),this.requireSave(),a.preventDefault()},onRemoveImage:function(t){var i=e(t.currentTarget);i.siblings("img").attr("src",lib_swatch_admin.placeholder),i.siblings("input").val(""),this.requireSave(),t.preventDefault()},onSave:function(t){},onCancel:function(t){confirm("Changes are cancelled. Do you want to reload this page?")&&window.location.reload()},onAttrTypeSelect:function(t){var i=e(t.target).parent(),n=i.data("value"),a=e("select#attribute_type");i.addClass("active").siblings().removeClass("active"),a.length&&a.find('option[value="'+n+'"]').prop("selected",!0).siblings().prop("selected",!1)}};themeAdmin.swatchAdmin=a,e(document).ready((function(){e("#attr_image, #swatch_product_options, .attribute_type_image").length&&themeAdmin.swatchAdmin.init()}))}(wp,jQuery);