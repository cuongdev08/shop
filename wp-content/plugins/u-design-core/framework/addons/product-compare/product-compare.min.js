"use strict";window.theme||(window.theme={}),function(e){theme.productCompare=function(){function a(e,a=!0){var o=e.html(),t=a?1:-1;o=o.replace(/[^0-9]/,""),(o=parseInt(o)+t)>=0&&o<=alpha_vars.compare_limit&&e.html(o)}e(document).on("click",".product a.compare:not(.added)",(function(a){a.preventDefault();var o=e(this),t={action:"alpha_add_to_compare",id:o.data("product_id"),minicompare:e(".header .compare-dropdown").length?e(".header .compare-dropdown").data("minicompare-type"):"",_wpnonce:alpha_vars.nonce};theme.doLoading(o,"small"),o.closest(".product").css("pointer-events","all"),theme.$body.css("pointer-events","none"),e.ajax({type:"post",url:alpha_vars.ajax_url,data:t,dataType:"json",success:function(a){if(theme.endLoading(o),o.closest(".product").css("pointer-events",""),theme.$body.css("pointer-events",""),void 0!==a.count){var t=e(".header .compare-dropdown .widget_compare_content");t.length&&t.html(e(a.minicompare).find(".widget_compare_content").html());var r=t.closest(".dropdown-box");r.length&&(t.find(".mini-basket-empty").length?r.hasClass("empty")||r.addClass("empty"):r.hasClass("empty")&&r.removeClass("empty")),e(document).trigger("added_to_compare",a.popup_template),o.addClass("added"),o.attr("href",a.url);var p=o.children("i");p.length&&o.attr("data-added-icon")&&p.attr("class",o.attr("data-added-icon"));var d=o.text();d&&(p.length?o.html(o.html().replace(d,o.attr("data-added-text"))):o.text(o.attr("data-added-text"))),e("[data-product_id='"+o.data("product_id")+"'].compare").addClass("added").attr("href",a.url),a.shift_product&&e(".product.post-"+a.shift_product).length&&e(".product.post-"+a.shift_product).find(".compare.added").removeClass("added").attr("href","#")}}})})).on("click",".remove_from_compare",(function(o){o.preventDefault();var t=e(this),r={action:"alpha_remove_from_compare",id:t.data("product_id"),_wpnonce:alpha_vars.nonce};theme.doLoading(t.parent(),"small"),e.ajax({type:"post",url:alpha_vars.ajax_url,data:r,dataType:"json",success:function(o){void 0!==o.count&&(theme.endLoading(t),t.closest(".compare-popup").length?(t.closest("li").empty(),a(e(".compare-popup .compare-heading mark"),!1)):void 0!==o.compare_table&&t.closest(".alpha-compare-table").replaceWith(o.compare_table),e(document).trigger("removed_from_compare",r.id),theme.$body.trigger("alpha_ajax_yith_wcwl_require"))}})})).on("click",".compare-popup-overlay",(function(){e(".page-wrapper > .compare-popup").removeClass("show")})).on("click",".alpha-compare-table .to-left, .alpha-compare-table .to-right",(function(a){if(a.preventDefault(),!e(this).closest(".compare-basic-info").find(".d-loading").length){var o=e(this),t=o.closest(".compare-value").index()-1;o.closest(".compare-col").hasClass("last-col")&&o.hasClass("to-right")||e(this).closest(".alpha-compare-table").find(".compare-row").each((function(){var a=e(this).children(".compare-value").eq(t),r=o.hasClass("to-left")?a.prev():a.next(),p=o.closest(".compare-col").innerWidth()/o.closest(".compare-row").innerWidth()*100,d=(o.hasClass("to-left")?"-":"")+p+"%",c=(o.hasClass("to-left")?"":"-")+p+"%";r.hasClass("compare-field")||(a.animate({left:d},200,(function(){a.css("left",""),o.hasClass("to-left")?a.after(r):a.before(r)})),r.animate({left:c},200,(function(){r.css("left","")})),setTimeout((function(){(r.hasClass("last-col")||a.hasClass("last-col"))&&(a.toggleClass("last-col"),r.toggleClass("last-col"))}),200))}))}})).on("click",".compare-clean",(function(a){a.preventDefault(),e(".remove_from_compare").each((function(){var a=e(this).data("product_id");e('.compare[data-product_id="'+a+'"]').removeClass("added")})),e(".compare-popup li").empty(),e(".compare-popup .compare-heading mark").text("0"),e.post(alpha_vars.ajax_url,{action:"alpha_clean_compare"}),e(".header .compare-dropdown .compare-count").html("0")})).on("added_to_compare",(function(o,t){if(t)if("offcanvas"==alpha_vars.compare_popup_type){var r=e(".page-wrapper > .compare-popup");r.length||(e(".page-wrapper").append('<div class="compare-popup"></div><div class="compare-popup-overlay"></div>'),r=e(".page-wrapper > .compare-popup")),r.html(t),theme.slider(".compare-popup .slider-wrapper",{spaceBetween:20,breakpoints:{576:{slidesPerView:3,spaceBetween:10},768:{slidesPerView:4},992:{slidesPerView:3.5},1300:{slidesPerView:4}},scrollbar:{el:".slider-scrollbar",dragClass:"slider-scrollbar-drag",draggable:!0}}),theme.requestTimeout((function(){r.addClass("show")}),60)}else theme.minipopup.open({content:t});if(e(".header .compare-dropdown").length){var p=e(".header .compare-dropdown").find(".compare-count");p.length&&a(p)}})).on("removed_from_compare",(function(o,t){if(e('.compare[data-product_id="'+t+'"]').removeClass("added").text(e('.compare[data-product_id="'+t+'"]').attr("title")),e(".header .compare-dropdown").length){var r=e(".header .compare-dropdown").find(".compare-count"),p=e(".header .compare-dropdown");r.length&&a(r,!1),p.find(".mini-item").length>1?(p.find('.remove_from_compare[data-product_id="'+t+'"]').closest(".mini-item").remove(),p.find(".dropdown-box").hasClass("empty")&&p.find(".dropdown-box").removeClass("empty")):(p.find(".widget_compare_content").html(e("script.alpha-minicompare-no-item-html").html()),p.find(".dropdown-box").hasClass("empty")||p.find(".dropdown-box").addClass("empty"))}}))},e(window).on("alpha_complete",theme.productCompare)}(jQuery);