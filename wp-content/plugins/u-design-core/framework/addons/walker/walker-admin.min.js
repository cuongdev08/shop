!function(e){"use strict";var t,n;e(document).off("click",".btn_upload_img").on("click",".btn_upload_img",(function(m){m.preventDefault(),t||(t=wp.media.frames.downloadable_file=wp.media({title:"Choose an image",button:{text:"Use image"},multiple:!1})),t.open(),n=e(this).attr("id"),t.on("select",(function(){var m=t.state().get("selection").first().toJSON();e("#"+n).val(m.url),e("#"+n).attr("data-name")&&e("#"+n).attr("name",e("#"+n).attr("data-name")),t.close()}))})),e(document).on("click",".btn_remove_img",(function(t){var n=e(this).attr("id");return e("#"+n).val(""),e("#"+n+"_thumb").html(""),!1})),e(document).on("click",".btn_remove_img",(function(t){var n=e(this).attr("id");return e("#"+n).val(""),e("#"+n+"_thumb").html(""),!1})),e(document).on("change",'.field-megamenu input[type="checkbox"]',(function(t){var n=e(this).closest(".menu-item"),m=n.next();if(e(this).prop("checked"))for(n.addClass("menu-item-megamenu");m.length&&!m.hasClass("menu-item-depth-0");)m.addClass("menu-item-megamenu"),m=m.next();else for(n.removeClass("menu-item-megamenu");m.length&&!m.hasClass("menu-item-depth-0");)m.removeClass("menu-item-megamenu"),m=m.next()})),e(document).on("ready",(function(){e('.field-megamenu input[type="checkbox"]').each((function(){if(e(this).prop("checked")){var t=e(this).closest(".menu-item"),n=t.next();for(t.addClass("menu-item-megamenu");n.length&&!n.hasClass("menu-item-depth-0");)n.addClass("menu-item-megamenu"),n=n.next()}}))}))}(jQuery);