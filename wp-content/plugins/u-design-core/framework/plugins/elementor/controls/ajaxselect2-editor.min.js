jQuery(window).on("elementor:init",(function(e){var t=elementor.modules.controls.BaseData.extend({onReady:function(){var e=this,t=e.ui.select,n=t.attr("data-ajax-url"),a=t.attr("data-condition"),o=t.attr("data-condition-val"),l=t.attr("data-add_default");if(t.select2({ajax:{url:n,dataType:"json",data:function(e){var n={s:e.term};if(a)if(o)n.condition=o;else{var i={},r=t.closest(".elementor-repeater-fields");if(r.length&&(i=r.find('select[data-setting="'+a+'"]')),0==i.length&&(i=jQuery('select[data-setting="'+a+'"]')),i.length)n.condition=i.val();else for(key in elementor.selection.elements){condition_value=elementor.selection.elements[key].settings.attributes[a],condition_value&&(n.condition=condition_value);break}}return l&&(n.add_default=1),n}},cache:!0}),!t.closest(".elementor-hidden-control").length){var i=void 0!==e.getControlValue()?e.getControlValue():"";i.isArray&&(i=e.getControlValue().join()),jQuery.ajax({url:n,dataType:"json",data:{ids:String(i)}}).then((function(e){null!==e&&e.results.length>0&&(jQuery.each(e.results,(function(e,n){var a=new Option(n.text,n.id,!0,!0);t.append(a).trigger("change")})),t.trigger({type:"select2:select",params:{data:e}}))}))}},onBeforeDestroy:function(){this.ui.select.data("select2")&&this.ui.select.select2("destroy"),this.$el.remove()}});elementor.addControlView("ajaxselect2",t)}));